(dp1
S'output'
p2
S"<class 'sqlite3.IntegrityError'> foreign key constraint failed"
p3
sS'layer'
p4
S'C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# this file is released under public domain and you can use without limitations\n\n#########################################################################\n## This is a sample controller\n## - index is the default action of any application\n## - user is required for authentication and authorization\n## - download is for downloading files uploaded in the db (does streaming)\n#########################################################################\nimport time\n"""\nfilm_data = [{\'name\':\'The Shawshank Redemption\',\n              \'director\':1,\n              \'genres\':[\'Crime\',\'Drama\'],\n              \'imdb_rating\':9.2,\n              \'duration\':142,\n              \'release_date\':1994,\n              \'storyline\':"Chronicles the experiences of a formerly successful banker as a prisoner in the gloomy jailhouse of Shawshank after being found guilty of a crime he claims he did not commit. The film portrays the man\'s unique way of dealing with his new, torturous life; along the way he befriends a number of fellow prisoners, most notably a wise long-term inmate named Red."\n             },\n             {\'name\':\'The Green Mile\',\n              \'director\':1,\n              \'genres\':[\'Crime\',\'Drama\',\'Fantastic\'],\n              \'imdb_rating\':8.5,\n              \'duration\':189,\n              \'release_date\':1999,\n              \'storyline\':"The lives of guards on Death Row are affected by one of their charges: a black man accused of child murder and rape, yet who has a mysterious gift."\n             },\n             {\'name\':\'Spectre\',\n              \'director\':2,\n              \'genres\':[\'Action\',\'Adventure\'],\n              \'imdb_rating\':7.2,\n              \'duration\':148,\n              \'release_date\':2015,\n              \'storyline\':"A cryptic message from Bond\'s past sends him on a trail to uncover a sinister organization. While M battles political forces to keep the secret service alive, Bond peels back the layers of deceit to reveal the terrible truth behind SPECTRE."\n             },\n             {\'name\':\'The Godfather\',\n              \'director\':3,\n              \'genres\':[\'Crime\',\'Drama\'],\n              \'imdb_rating\':9.2,\n              \'duration\':175,\n              \'release_date\':1972,\n              \'storyline\':"The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son."\n             },\n             {\'name\':\'Forrest Gump\',\n              \'director\':4,\n              \'genres\':[\'Romance\',\'Drama\'],\n              \'imdb_rating\':8.8,\n              \'duration\':142,\n              \'release_date\':1994,\n              \'storyline\':"Forrest Gump, while not intelligent, has accidentally been present at many historic moments, but his true love, Jenny Curran, eludes him."\n             },\n             {\'name\':\'The Dark Knight\',\n              \'director\':5,\n              \'genres\':[\'Fantastic\',\'Action\'],\n              \'imdb_rating\':9.0,\n              \'duration\':152,\n              \'release_date\':2008,\n              \'storyline\':"When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, the caped crusader must come to terms with one of the greatest psychological tests of his ability to fight injustice."\n             },\n             {\'name\':\'Inception\',\n              \'director\':5,\n              \'genres\':[\'Action\',\'Drama\'],\n              \'imdb_rating\':8.8,\n              \'duration\':148,\n              \'release_date\':2010,\n              \'storyline\':"A thief who steals corporate secrets through use of the dream-sharing technology is given the inverse task of planting an idea into the mind of a CEO."\n             },\n             {\'name\':\'Fight Club\',\n              \'director\':6,\n              \'genres\':[\'Drama\'],\n              \'imdb_rating\':8.9,\n              \'duration\':139,\n              \'release_date\':1999,\n              \'storyline\':"An insomniac office worker, looking for a way to change his life, crosses paths with a devil-may-care soap maker, forming an underground fight club that evolves into something much, much more..."\n             },\n             {\'name\':\'12 Angry Men\',\n              \'director\':7,\n              \'genres\':[\'Crime\',\'Drama\'],\n              \'imdb_rating\':8.9,\n              \'duration\':96,\n              \'release_date\':1957,\n              \'storyline\':"A dissenting juror in a murder trial slowly manages to convince the others that the case is not as obviously clear as it seemed in court."\n             },\n             {\'name\':\'Tosun Pa\xc5\x9fa\',\n              \'director\':12,\n              \'genres\':[\'Comedy\',\'History\'],\n              \'imdb_rating\':8.8,\n              \'duration\':142,\n              \'release_date\':1976,\n              \'storyline\':"Late 19th century in Alexandria. Two traditionally rival Turkish families, Seferoglus and Tellioglus are competing for the Green Valley. The winner will be determined by Daver Bey, who has a beautiful young daughter, Leyla. Both families try to arrange a marriage between a man from their family and Leyla, so that Daver Bey will be inclined to give the green valley to his relatives. Tellioglus, who are behind in the race, desperately find a final solution"\n             },\n             {\'name\':\'The Prestige\',\n              \'director\':5,\n              \'genres\':[\'Mystery\',\'Sci-fi\'],\n              \'imdb_rating\':8.5,\n              \'duration\':130,\n              \'release_date\':2006,\n              \'storyline\':"Two stage magicians engage in competitive one-upmanship in an attempt to create the ultimate stage illusion."\n             },\n             {\'name\':\'Leon\',\n              \'director\':8,\n              \'genres\':[\'Crime\',\'Drama\',\'Thriller\'],\n              \'imdb_rating\':8.6,\n              \'duration\':110,\n              \'release_date\':1994,\n              \'storyline\':"Mathilda, a 12-year-old girl, is reluctantly taken in by L\xc3\xa9on, a professional assassin, after her family is murdered. L\xc3\xa9on and Mathilda form an unusual relationship, as she becomes his prot\xc3\xa9g\xc3\xa9e and learns the assassin\'s trade."\n             },\n             {\'name\':\'Gladiator\',\n              \'director\':9,\n              \'genres\':[\'Action\',\'Drama\'],\n              \'imdb_rating\':8.5,\n              \'duration\':155,\n              \'release_date\':2000,\n              \'storyline\':"When a Roman general is betrayed and his family murdered by an emperor\'s corrupt son, he comes to Rome as a gladiator to seek revenge."\n             },\n             {\'name\':\'Braveheart\',\n              \'director\':10,\n              \'genres\':[\'History\',\'Drama\'],\n              \'imdb_rating\':8.4,\n              \'duration\':178,\n              \'release_date\':1995,\n              \'storyline\':"When his secret bride is executed for assaulting an English soldier who tried to rape her, William Wallace begins a revolt and leads Scottish warriors against the cruel English tyrant who rules Scotland with an iron fist."\n             },\n             {\'name\':\'3 Idiots\',\n              \'director\':11,\n              \'genres\':[\'Comedy\',\'Drama\'],\n              \'imdb_rating\':8.5,\n              \'duration\':170,\n              \'release_date\':2009,\n              \'storyline\':"Two friends are searching for their long lost companion. They revisit their college days and recall the memories of their friend who inspired them to think differently, even as the rest of the world called them idiots."\n             }]\n\ndirector_data = [{  \'id\':1 , \'name\':\'Frank Darabont\', \'bio\':"Three-time Oscar nominee Frank Darabont was born in a refugee camp in 1959 in Montbeliard, France, the son of Hungarian parents who had fled Budapest during the failed 1956 Hungarian revolution. Brought to America as an infant, he settled with his family in Los Angeles and attended Hollywood High School. His first job in movies was as a production assistant on the 1981 low-budget film, Hell Night (1981), starring Linda Blair. He spent the next six years working in the art department as a set dresser and in set construction while struggling to establish himself as a writer. His first produced writing credit (shared) was on the 1987 film, A Nightmare on Elm Street 3: Dream Warriors (1987), directed by Chuck Russell. Darabont is one of only six filmmakers in history with the unique distinction of having his first two feature films receive nominations for the Best Picture Academy Award: 1994\'s The Shawshank Redemption (1994) (with a total of seven nominations) and 1999\'s The Green Mile (1999) (four nominations). Darabont himself collected Oscar nominations for Best Adapted Screenplay for each film (both based on works by Stephen King), as well as nominations for both films from the Director\'s Guild of America, and a nomination from the Writers Guild of America for The Shawshank Redemption (1994). He won the Humanitas Prize, the PEN Center USA West Award, and the Scriptor Award for his screenplay of \'The Shawshank Redemption\'. For \'The Green Mile\', he won the Broadcast Film Critics prize for his screenplay adaptation, and two People\'s Choice Awards in the Best Dramatic Film and Best Picture categories. His most recent feature as director, The Majestic (2001), starring Jim Carrey, was released in December 2001. His next film as director will be an adaptation of Ray Bradbury\'s classic science fiction novel, Fahrenheit 451 (2007), which Darabont is currently writing for Castle Rock and Icon Productions. He is currently executive-producing the thriller, Collateral (2004), for DreamWorks, with Michael Mann directing and Tom Cruise starring. Future produced-by projects include \'Way of the Rat\' at DreamWorks with Chuck Russell adapting and directing the CrossGen comic book series and \'Back Roads\', a Tawni O\'Dell novel, also at DreamWorks, with Todd Field attached to direct. Darabont and his production company, \'Darkwoods Productions\', have an overall deal with Paramount Pictures."},\n                 {  \'id\':2, \'name\':\'Sam Mendes\', \'bio\':"Samuel Alexander Mendes was born on August 1, 1965 in Reading, England, UK to parents James Peter Mendes, a retired university lecturer, and Valerie Helene Mendes, an author who writes children\'s books. Their marriage didn\'t last long, James divorced Sam\'s mother in 1970 when Sam was just 5-years-old. Sam was educated at Cambridge University and joined the Chichester Festival Theatre following his graduation in 1987. Afterwards, he directed Judi Dench in \'The Cherry Orchard\', for which he won a Critics Circle Award for Best Newcomer. He then joined the Royal Shakespeare Company, where he directed such productions as \'Troilus and Cressida\' with Ralph Fiennes and \'Richard III\'. In 1992, he became artistic director of the reopened Donmar Warehouse in London, where he directed such productions as \'The Glass Menagerie\' and the revival of the musical \'Cabaret\', which earned four Tony Awards including one for Best Revival of a Musical. He also directed \'The Blue Room\' starring Nicole Kidman. In 1999, he got the chance to direct his first feature film, American Beauty (1999). The movie earned 5 Academy Awards including Best Picture and Best Director for Mendes, which is a rare feat for a first-time film director."},\n                 {  \'id\':3, \'name\':\'Francis Ford Coppola\', \'bio\':"Francis Ford Coppola was born in 1939 in Detroit, Michigan, but grew up in a New York suburb in a creative, supportive Italian-American family. His father, Carmine Coppola, was a composer and musician. His mother, Italia Coppola (n\xc3\xa9e Pennino), had been an actress. Francis Ford Coppola graduated with a degree in drama from Hofstra University, and did graduate work at UCLA in filmmaking. He was training as assistant with filmmaker Roger Corman, working in such capacities as sound-man, dialogue director, associate producer and, eventually, director of Dementia 13 (1963), Coppola\'s first feature film. During the next four years, Coppola was involved in a variety of script collaborations, including writing an adaptation of \'This Property is Condemned\' by Tennessee Williams (with Fred Coe and Edith Sommer), and screenplays for Is Paris Burning? (1966) and Patton (1970), the film for which Coppola won a Best Original Screenplay Academy Award. In 1966, Coppola\'s 2nd film brought him critical acclaim and a Master of Fine Arts degree. In 1969, Coppola and George Lucas established American Zoetrope, an independent film production company based in San Francisco. The company\'s first project was THX 1138 (1971), produced by Coppola and directed by Lucas. Coppola also produced the second film that Lucas directed, American Graffiti (1973), in 1973. This movie got five Academy Award nominations, including one for Best Picture. In 1971, Coppola\'s film The Godfather (1972) became one of the highest-grossing movies in history and brought him an Oscar for writing the screenplay with Mario Puzo The film was a Best Picture Academy Award-winner, and also brought Coppola a Best Director Oscar nomination. Following his work on the screenplay for The Great Gatsby (1974), Coppola\'s next film was The Conversation (1974), which was honored with the Golden Palm Award at the Cannes Film Festival, and brought Coppola Best Picture and Best Original Screenplay Oscar nominations. Also released that year, The Godfather: Part II (1974), rivaled the success of The Godfather (1972), and won six Academy Awards, bringing Coppola Oscars as a producer, director and writer. Coppola then began work on his most ambitious film, Apocalypse Now (1979), a Vietnam War epic that was inspired by Joseph Conrad\'s Heart of Darkness (1993). Released in 1979, the acclaimed film won a Golden Palm Award at the Cannes Film Festival, and two Academy Awards. Also that year, Coppola executive produced the hit The Black Stallion (1979). With George Lucas, Coppola executive produced Kagemusha (1980), directed by Akira Kurosawa, and Mishima: A Life in Four Chapters (1985), directed by Paul Schrader and based on the life and writings of Yukio Mishima. Coppola also executive produced such films as The Escape Artist (1982), Hammett (1982) The Black Stallion Returns (1983), Barfly (1987), Wind (1992), The Secret Garden (1993), etc."},\n                 {  \'id\':4, \'name\':\'Robert Zemeckis\', \'bio\':"A whiz-kid with special effects, Robert is from the Spielberg camp of film-making (Steven Spielberg produced many of his films). Usually working with writing partner Bob Gale, Robert\'s earlier films show he has a talent for zany comedy (Romancing the Stone (1984), 1941 (1979)) and special effect vehicles (Who Framed Roger Rabbit (1988) and Back to the Future (1985)). His later films have become more serious, with the hugely successful Tom Hanks vehicle Forrest Gump (1994) and the Jodie Foster film Contact (1997), both critically acclaimed movies. Again, these films incorporate stunning effects. Robert has proved he can work a serious story around great effects."},\n                 {  \'id\':5, \'name\':\'Christopher Nolan\', \'bio\':"Best known for his cerebral, often nonlinear story-telling, acclaimed writer-director Christopher Nolan was born on July 30, 1970 in London, England. Over the course of 15 years of film-making, Nolan has gone from low-budget independent films to working on some of the biggest blockbusters ever made"},\n                 {  \'id\':6, \'name\':\' David Fincher\', \'bio\':"David Fincher was born in 1962 in Denver, Colorado, and was raised in Marin County, California. When he was 18 years old he went to work for John Korty at Korty Films in Mill Valley. He subsequently worked at ILM (Industrial Light and Magic) from 1981-1983. Fincher left ILM to direct TV commercials and music videos after signing with N. "},\n                 {  \'id\':7, \'name\':\'Sidney Lumet\', \'bio\':"Sidney Lumet was a master of cinema, best known for his technical knowledge and his skill at getting first-rate performances from his actors -- and for shooting most of his films in his beloved New York. He made over 40 movies, often complex and emotional, but seldom overly sentimental. "},\n                 {  \'id\':8, \'name\':\'Luc Besson\', \'bio\':"Luc Besson spent the first years of his life following his parents, scuba diving instructors, around the world. His early life was entirely aquatic. He already showed amazing creativity as a youth, writing early drafts of Derinlik sarhoslugu (1988) and 5. G\xc3\xbc\xc3\xa7 (1997), as an adolescent bored in school"},\n                 {  \'id\':9, \'name\':\' Ridley Scott\', \'bio\':"Ridley Scott was born in South Shields, Tyne and Wear (then Northumberland) on 30 November 1937. His father was an officer in the Royal Engineers and the family followed him as his career posted him throughout the UK and Europe before they eventually returned to Teesside."},\n                 {  \'id\':10, \'name\':\'Mel Gibson\', \'bio\':"Mel Columcille Gerard Gibson was born January 3, 1956 in Peekskill, New York, USA, as the sixth of eleven children of Hutton Gibson, a railroad brakeman, and Anne Patricia (Reilly) Gibson (who died in December of 1990). His mother was Irish, from County Longford, while his American-born father is of mostly Irish descent."},\n                 {  \'id\':11, \'name\':\' Rajkumar Hirani\', \'bio\':"Rajkumar Hirani was born on November 20, 1962 in Nagpur, Maharashtra, India. He is a writer and editor, known for 3 Aptal (2009), PK (2014) and Munna Bhai M.B.B.S. (2003). "},\n                 {  \'id\':12, \'name\':\' Kartal Tibet\', \'bio\':"Kartal Tibet was born on March 27, 1939 in Ankara, Turkey. He is an actor and director, known for Tosun Pasa (1976)"}\n                ]\ndb.directors.truncate()\nfor d in director_data:\n  db.directors.insert(name=d[\'name\'], bio= d[\'bio\'])\n\ndb.genres.truncate()\ngenre_list = []\nfor film in film_data:\n  genre_list.extend(film[\'genres\'])\ngenre_list = list(set(genre_list))\nfor genre in genre_list:\n  db.genres.insert(name=genre)\n\ndb.films.truncate()\nfor f in film_data:\n  genreId_list = []\n  for g in f[\'genres\']:\n    row = db(db.genres.name==g).select().first()\n    gid = row.id\n    genreId_list.append(gid)\n  db.films.insert(title=f[\'name\'],\n    imdb_rate=f[\'imdb_rating\'],\n    duration=f[\'duration\'],\n    release_date=f[\'release_date\'],\n    storyline=f[\'storyline\'],\n    director_id=f[\'director\'],\n    genre=genreId_list\n    )\n"""\n\ndef index():\n    \'\'\'db.comment.truncate()\n    db.films.truncate()\n    db.directors.truncate()\n    db.watch_list.truncate()\'\'\'\n    title = "Homepage"\n    #rows = db(db.films.title.contains(\'green\')).select().first()\n    return dict(title=title)\n\ndef about():\n    title = "About"\n    return dict(title=title)\n\ndef films():\n    #db.watch_list.truncate()\n    #rows=db(db.genres.name == "Crime").select().first()\n    #print rows.id\n    title = "Films"\n    search = request.vars.s\n    if(search):\n    \tfilm_data = db(db.films.title.contains(search)).select()\n    else:\n    \tfilm_data = db(db.films).select()\n\n    director_data = db(db.directors).select()\n    genres=db(db.genres).select()\n    for f in film_data:\n      f[\'genre_names\'] = db.films.genre.represent(f.genre) # returns name list\n    #print genres\n\n\n    return dict(title=title, films=film_data, directors=director_data)\n\ndef film():\n    #db.comment.insert(user_id=auth.user.id,title="as",content="def")\n    #directors\n    k = int(request.args[0])\n    film_data = db(db.films.id == k).select().first()\n    film_data[\'genre_names\'] = db.films.genre.represent(film_data.genre)\n    director_data = db(db.directors.id == film_data[\'director_id\']).select().first()\n    title = film_data[\'title\']\n    #comments\n    comment_obj = db(db.comment.film_id==k).select(orderby=\'comment.time DESC\')\n\n    form = FORM(DIV(INPUT(_type=\'text\',_name=\'title\', _placeholder=\'Title\'),_class="field"),\n                DIV(TEXTAREA(_type=\'text\',_name=\'content\', _placeholder=\'Content\',_rows=10,_style=\'resize:none;\'),_class="field"),\n                INPUT(_type=\'submit\', _class=\'ui button\',_value=\'Submit\') ,_action=URL(\'add_comment/%d\' %k), _class="ui form"\n                )\n    return dict(title=title, film=film_data, director=director_data, datas=comment_obj, form=form)\n\n\ndef directors():\n    title = "Directors"\n    film_data = db(db.films).select()\n    director_data = db(db.directors).select()\n    return dict(title=title, films=film_data, directors=director_data)\n\n\n\ndef director():\n    k = int(request.args[0])\n    director_data = db(db.directors.id == k).select().first()\n    #print director_data\n    film_data = db(db.films.director_id==director_data.id).select()\n    title = director_data[\'name\']\n    return dict(title = title,film=film_data ,director=director_data)\n\ndef category():\n  \n  gid = int(request.args[1])\n  genre_data = db(db.genres.id == gid).select().first()\n  title=genre_data.name\n  film_data=db(db.films).select()\n  director_data = db(db.directors).select()\n\n  data = []\n  for f in film_data:\n    if(gid in f.genre):\n      data.append(f)\n  \n\n  return dict(title=title,film_data=data,genre_data=genre_data,directors=director_data)\n\ndef login():\n  form = FORM(DIV(INPUT(_type=\'text\',_name=\'username\', _placeholder=\'Username\'),_class="field"),\n              DIV(INPUT(_type=\'password\',_name=\'password\', _placeholder=\'Password\'),_class="field"),\n              INPUT(_type=\'submit\', _class=\'ui button\',_value=\'Login\') , _class="ui form"\n              )\n  username = request.post_vars.username\n  password = request.post_vars.password\n  user = auth.login_bare(username,password) # returns user if exist \n  if(user):\n    redirect(URL(\'index\'))\n\n  return dict(title="",form=form)\n\n\ndef register():\n    title = ""\n    form = FORM(DIV(INPUT(_type=\'text\',_name=\'first_name\', _placeholder=\'Firstname\'),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'last_name\', _placeholder=\'Lastname\'),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'username\', _placeholder=\'Username\'),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'email\', _placeholder=\'Email\'),_class="field"),\n              DIV(INPUT(_type=\'password\',_name=\'password\', _placeholder=\'Password\'),_class="field"),\n              DIV(INPUT(_type=\'password\',_name=\'password_two\', _placeholder=\'Confirm password\'),_class="field"),\n              INPUT(_type=\'submit\', _class=\'ui button\',_value=\'Register\') , _class="ui form"\n              )\n    first_name = request.post_vars.first_name\n    last_name = request.post_vars.last_name\n    username = request.post_vars.username\n    email = request.post_vars.email\n    password = request.post_vars.password\n    password_two = request.post_vars.password_two\n    if(email and username and password and password_two):\n      if(password==password_two):\n        db.auth_user.validate_and_insert( username = username, \n                                          first_name = first_name,\n                                          last_name = last_name,\n                                          password = password,\n                                          email = email,\n                                          )\n        user = auth.login_bare(username,password)\n        if(user):\n          redirect(URL(\'index\'))\n    else:\n      pass\n    return dict(title=title,form=form)\n\n\n@auth.requires_login(URL(\'login\'))\ndef logout():\n  title = "logout"\n  return auth.logout()\n  return locals\n\n@auth.requires_login(URL(\'login\'))\ndef profile():\n    user = auth.user\n    title = \'Profile\'\n    form = FORM(DIV(INPUT(_type=\'text\',_name=\'first_name\', _placeholder=\'Firstname\', _value=user.first_name),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'last_name\', _placeholder=\'Lastname\',_value=user.last_name),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'username\', _placeholder=\'Username\',_value=user.username, _disabled=""),_class="field"),\n              DIV(INPUT(_type=\'text\',_name=\'email\', _placeholder=\'Email\',_value=user.email),_class="field"),\n              INPUT(_type=\'button\', _class=\'ui button\',_id=\'apply-changes-button\',_value=\'Apply Changes\') , _class="ui form", _id=\'form1\'\n              )\n    if request.post_vars:\n    \tfirst_name = request.post_vars.first_name\n    \tlast_name = request.post_vars.last_name\n    \temail = request.post_vars.email\n    \tpassword = request.post_vars.password\n    \t#print password,email,first_name,last_name\n    \t#email must be entered\n    \tif(email):\n    \t\tdb(db.auth_user.id==user.id).update(first_name=first_name, last_name=last_name, email=email)\n    \t\tauth.login_bare(user.username, password)\n    \t\tredirect(URL(\'profile\'))\n    comment_data = db(db.comment.user_id == auth.user.id).select(orderby=\'comment.time DESC\')\n    return dict(title=title, form=form, comments=comment_data)\n\n@auth.requires_login(URL(\'login\'))\ndef add_comment():\n    title = "Add comment"\n    #db.comment.truncate()\n    #db.auth_user.truncate()\n    #form = SQLFORM(db.comment)\n    fid = request.args[0]\n    t = request.post_vars.title\n    c = request.post_vars.content\n    #print c,t\n    if(c and t):\n      db.comment.insert(user_id=auth.user.id, title=t, content=c, film_id=fid)\n      f = \'film/%s\' %fid\n      redirect(URL(f))\n\n\n\n@auth.requires_login(URL(\'login\'))\ndef edit_comment():\n    k = int(request.args[0])\n    fid = db(db.comment.id==k).select().first()[\'film_id\']\n    comment_obj = db(db.comment.id==k).select().first()\n    if(comment_obj[\'user_id\']==auth.user.id):\n      t = request.post_vars.title\n      c = request.post_vars.content\n      if(c and t):\n        db(db.comment.id==k).update(title=t, content=c)\n        #redirect(URL(\'index\', args=(1,2,3), vars=dict(a=\'b\'))) passing parameter in redirect\n        redirect(URL(\'film\', args=(fid), vars=dict()))\n      #print comment_obj\n    form = FORM(DIV(INPUT(_type=\'text\',_name=\'title\',_value=comment_obj[\'title\']),_class=\'field\'),\n                DIV(TEXTAREA(_type=\'text\',_name=\'content\',_rows=10,_style=\'resize:none;\', _value=comment_obj[\'content\'] ), _class="field"), \n                INPUT(_type=\'submit\', _class=\'ui button\',_value=\'Submit\') , _class="ui form", _action=URL(\'edit_comment/%d\' %k)\n                )\n    \n    return dict(title="",form=form)\n\n@auth.requires_login(URL(\'login\'))\ndef watchlist():\n    title = \'My Watchlist\'\n    watchlist = db(db.watch_list.owner==auth.user.id).select().first()\n    film_data = db(db.films).select()\n    film_list = []\n    if(watchlist):\n      for f in film_data:\n        if(f.id in watchlist[\'film_list\']):\n          film_list.append(f)\n    else:\n      film_list = []\n    #print film_list\n    return dict(title=title,films=film_list)\n\n@auth.requires_login(URL(\'login\'))\ndef add_watch_list():\n    fid = int(request.args[0])\n    owner = auth.user.id\n    film_data = db(db.watch_list.owner==owner).select().first()\n    #print film_data\n    if(film_data):\n      if fid in film_data.film_list:\n        pass\n      else:\n        film_data.film_list.append(fid)\n        db(db.watch_list.owner==owner).update(film_list=film_data.film_list)\n\n    else:\n      film_list = []\n      film_list.append(fid)\n      db.watch_list.insert(owner=owner, film_list=film_list)\n    redirect(URL(\'films\'))\n\n@auth.requires_login(URL(\'login\'))\ndef remove_watch_list():\n    fid = fid = int(request.args[0])\n    owner = auth.user.id\n    film_data = db(db.watch_list.owner==owner).select().first()\n    if(film_data):\n      if(fid in film_data.film_list):\n        film_data.film_list.remove(fid)\n        db(db.watch_list.owner==owner).update(film_list=film_data.film_list)\n        redirect(URL(\'watchlist\'))\n    else:\n      pass\n\n@cache.action()\ndef download():\n    """\n    allows downloading of uploaded files\n    http://..../[app]/default/download/[filename]\n    """\n    return response.download(request, db)\n\n\ndef call():\n    """\n    exposes services. for example:\n    http://..../[app]/default/call/jsonrpc\n    decorate with @services.jsonrpc the functions to expose\n    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv\n    """\n    return service()\n\n\n\nresponse._vars=response._caller(logout)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__module__'
p12
S"'sqlite3'"
p13
sS'__getslice__'
p14
S"<method-wrapper '__getslice__' of IntegrityError object>"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of IntegrityError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of IntegrityError object>'
p19
sS'__dict__'
p20
S'{}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of IntegrityError object>'
p23
sS'__weakref__'
p24
S'None'
p25
sS'__init__'
p26
S"<method-wrapper '__init__' of IntegrityError object>"
p27
sS'__setattr__'
p28
S"<method-wrapper '__setattr__' of IntegrityError object>"
p29
sS'__reduce_ex__'
p30
S'<built-in method __reduce_ex__ of IntegrityError object>'
p31
sS'__new__'
p32
S'<built-in method __new__ of type object>'
p33
sS'__format__'
p34
S'<built-in method __format__ of IntegrityError object>'
p35
sS'__class__'
p36
S"<class 'sqlite3.IntegrityError'>"
p37
sS'__doc__'
p38
S'None'
p39
sS'__getitem__'
p40
S"<method-wrapper '__getitem__' of IntegrityError object>"
p41
sS'__setstate__'
p42
S'<built-in method __setstate__ of IntegrityError object>'
p43
sS'__getattribute__'
p44
S"<method-wrapper '__getattribute__' of IntegrityError object>"
p45
sS'args'
p46
S"('foreign key constraint failed',)"
p47
sS'__subclasshook__'
p48
S'<built-in method __subclasshook__ of type object>'
p49
sS'__unicode__'
p50
S'<built-in method __unicode__ of IntegrityError object>'
p51
sS'__delattr__'
p52
S"<method-wrapper '__delattr__' of IntegrityError object>"
p53
sS'__repr__'
p54
S"<method-wrapper '__repr__' of IntegrityError object>"
p55
sS'__hash__'
p56
S"<method-wrapper '__hash__' of IntegrityError object>"
p57
ssS'evalue'
p58
S'foreign key constraint failed'
p59
sS'request'
p60
cgluon.html
XML_unpickle
p61
(S's:b\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>movies</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-e068c53d-6d6c-4cc9-b8ad-a100fb9a161d<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_movies</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-b38ea260-40f0-49d8-b736-ed85588e1b5f<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-b38ea260-40f0-49d8-b736-ed85588e1b5f; session_id_admin=127.0.0.1-e068c53d-6d6c-4cc9-b8ad-a100fb9a161d; session_id_movies=127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/movies/default/films</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_UPGRADE_INSECURE_REQUESTS</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/movies/default/logout</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>50115</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>Ersel-PC</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\admin\\\\&#x27;, &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\movies\\\\&#x27;, &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\welcome\\\\&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x2ed8698: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;169.254.123.67&#x27;, &#x27;fe80::80ca:3157:6f46:bf01%17&#x27;, &#x27;fe80::3d18:80dc:870f:3f2%20&#x27;, &#x27;192.168.1.34&#x27;, &#x27;192.168.88.1&#x27;, &#x27;fe80::3963:e5cd:6aff:20b%24&#x27;, &#x27;192.168.56.1&#x27;, &#x27;fe80::b5e0:3f3b:1c8b:8f1c%21&#x27;, &#x27;192.168.122.1&#x27;, &#x27;fe80::54a0:4f09:13ee:964c%11&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Ersel-PC&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-b38ea260-40f0-49d8-b736-ed85588e1b5f; session_id_admin=127.0.0.1-e068c53d-6d6c-4cc9-b8ad-a100fb9a161d; session_id_movies=127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/movies/default/films</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_upgrade_insecure_requests</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>169.254.123.67</div></td></tr><tr><td><div>fe80::80ca:3157:6f46:bf01%17</div></td></tr><tr><td><div>fe80::3d18:80dc:870f:3f2%20</div></td></tr><tr><td><div>192.168.1.34</div></td></tr><tr><td><div>192.168.88.1</div></td></tr><tr><td><div>fe80::3963:e5cd:6aff:20b%24</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>Ersel-PC</div></td></tr><tr><td><div>192.168.56.1</div></td></tr><tr><td><div>fe80::54a0:4f09:13ee:964c%11</div></td></tr><tr><td><div>192.168.122.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr><tr><td><div>fe80::b5e0:3f3b:1c8b:8f1c%21</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/movies/default/logout</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>50115</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/movies/default/logout</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>Ersel-PC</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.12.3-stable+timestamp.2015.08.19.00.18.03</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x0032D0D0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x032D0CA8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x088C05F0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x0032D0D0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x032D0CA8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x088C05F0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>logout</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\admin\\\\&#x27;, &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\movies\\\\&#x27;, &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\welcome\\\\&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x2ed8698: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;169.254.123.67&#x27;, &#x27;fe80::80ca:3157:6f46:bf01%17&#x27;, &#x27;fe80::3d18:80dc:870f:3f2%20&#x27;, &#x27;192.168.1.34&#x27;, &#x27;192.168.88.1&#x27;, &#x27;fe80::3963:e5cd:6aff:20b%24&#x27;, &#x27;192.168.56.1&#x27;, &#x27;fe80::b5e0:3f3b:1c8b:8f1c%21&#x27;, &#x27;192.168.122.1&#x27;, &#x27;fe80::54a0:4f09:13ee:964c%11&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Ersel-PC&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>169.254.123.67</div></td></tr><tr><td><div>fe80::80ca:3157:6f46:bf01%17</div></td></tr><tr><td><div>fe80::3d18:80dc:870f:3f2%20</div></td></tr><tr><td><div>192.168.1.34</div></td></tr><tr><td><div>192.168.88.1</div></td></tr><tr><td><div>fe80::3963:e5cd:6aff:20b%24</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>Ersel-PC</div></td></tr><tr><td><div>192.168.56.1</div></td></tr><tr><td><div>fe80::54a0:4f09:13ee:964c%11</div></td></tr><tr><td><div>192.168.122.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr><tr><td><div>fe80::b5e0:3f3b:1c8b:8f1c%21</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.12.3-stable+timestamp.2015.08.19.00.18.03</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_sheduler</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 12, 30, 2, 28, 17, 845000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/movies/default/logout</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 12, 30, 0, 28, 17, 845000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x08C28B50&gt;</div></td></tr></table></div>'
tRp62
sS'frames'
p63
(lp64
(dp65
S'file'
p66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\restricted.py'
p67
sS'dump'
p68
(dp69
S'environment'
p70
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}"
p71
sS'ccode'
p72
S'<code object <module> at 08BEB4A0, file "C:\\User...ications\\movies\\controllers/default.py", line 10>'
p73
ssS'lnum'
p74
I227
sS'lines'
p75
(dp76
I224
S'            ccode = code'
p77
sI225
S'        else:'
p78
sI226
S'            ccode = compile2(code, layer)'
p79
sI227
S'        exec ccode in environment'
p80
sI228
S'    except HTTP:'
p81
sI229
S'        raise'
p82
sI230
S'    except RestrictedError:'
p83
sI231
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p84
sI222
S'    try:'
p85
sI223
S'        if isinstance(code, types.CodeType):'
p86
ssS'call'
p87
S"(code='# -*- coding: utf-8 -*-\\n# this file is released ...ice()\\n\\n\\n\\nresponse._vars=response._caller(logout)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}, layer=r'C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers/default.py')"
p88
sS'func'
p89
S'restricted'
p90
sa(dp91
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers\\default.py'
p92
sg68
(dp93
sg74
I438
sg75
(dp94
I427
S'def call():'
p95
sI428
S'    """'
p96
sI429
S'    exposes services. for example:'
p97
sI430
S'    http://..../[app]/default/call/jsonrpc'
p98
sI431
S'    decorate with @services.jsonrpc the functions to expose'
p99
sI432
S'    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv'
p100
sI433
S'    """'
p101
sI434
S'    return service()'
p102
sI435
S''
sI436
S''
ssg87
S'()'
p103
sg89
S'<module>'
p104
sa(dp105
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\globals.py'
p106
sg68
(dp107
S'self'
p108
S'undefined'
p109
sS'f'
S'<function logout>'
p110
ssg74
I412
sg75
(dp111
I416
S"        self.generic_patterns = ['*']"
p112
sI407
S"        self.flash = ''            # used by the default view layout"
p113
sI408
S'        self.meta = Storage()      # used by web2py_ajax.html'
p114
sI409
S'        self.menu = []             # used by the default view layout'
p115
sI410
S'        self.files = []            # used by web2py_ajax.html'
p116
sI411
S'        self._vars = None'
p117
sI412
S'        self._caller = lambda f: f()'
p118
sI413
S'        self._view_environment = None'
p119
sI414
S'        self._custom_commit = None'
p120
sI415
S'        self._custom_rollback = None'
p121
ssg87
S'(f=<function logout>)'
p122
sg89
S'<lambda>'
p123
sa(dp124
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py'
p125
sg68
(dp126
S'action'
p127
S'<function logout>'
p128
sS'a'
S'()'
p129
sS'b'
g21
ssg74
I3774
sg75
(dp130
I3776
S'            f.__name__ = action.__name__'
p131
sI3777
S'            f.__dict__.update(action.__dict__)'
p132
sI3778
S'            return f'
p133
sI3769
S'                    flag = condition'
p134
sI3770
S'                if not flag:'
p135
sI3771
S'                    current.session.flash = self.messages.access_denied'
p136
sI3772
S'                    return call_or_redirect('
p137
sI3773
S'                        self.settings.on_failed_authorization)'
p138
sI3774
S'                return action(*a, **b)'
p139
sI3775
S'            f.__doc__ = action.__doc__'
p140
ssg87
S'(*a=(), **b={})'
p141
sg89
S'f'
sa(dp142
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers\\default.py'
p143
sg68
(dp144
S'auth.logout'
p145
S'<bound method Auth.logout of <gluon.tools.Auth object>>'
p146
sS'global auth'
p147
S'<gluon.tools.Auth object>'
p148
ssg74
I307
sg75
(dp149
I302
S''
sI303
S''
sI304
S"@auth.requires_login(URL('login'))"
p150
sI305
S'def logout():'
p151
sI306
S'  title = "logout"'
p152
sI307
S'  return auth.logout()'
p153
sI308
S'  return locals'
p154
sI309
S''
sI310
S"@auth.requires_login(URL('login'))"
p155
sI311
S'def profile():'
p156
ssg87
S'()'
p157
sg89
S'logout'
p158
sa(dp159
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py'
p160
sg68
(dp161
S'self'
p162
S'<gluon.tools.Auth object>'
p163
sS'self.user'
p164
S"<Row {'username': 'ersel', 'first_name': 'Ersel'...word_key': '', 'registration_key': '', 'id': 2L}>"
p165
sS'self.log_event'
p166
S'<bound method Auth.log_event of <gluon.tools.Auth object>>'
p167
sS'log'
p168
S"'User %(id)s Logged-out'"
p169
ssg74
I2832
sg75
(dp170
I2827
S'        if onlogout:'
p171
sI2828
S'            onlogout(self.user)'
p172
sI2829
S'        if log is DEFAULT:'
p173
sI2830
S"            log = self.messages['logout_log']"
p174
sI2831
S'        if self.user:'
p175
sI2832
S'            self.log_event(log, self.user)'
p176
sI2833
S'        if self.settings.login_form != self:'
p177
sI2834
S'            cas = self.settings.login_form'
p178
sI2835
S'            cas_user = cas.get_user()'
p179
sI2836
S'            if cas_user:'
p180
ssg87
S"(self=<gluon.tools.Auth object>, next='/movies/default/index', onlogout=None, log='User %(id)s Logged-out')"
p181
sg89
g158
sa(dp182
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py'
p183
sg68
(dp184
S'origin'
p185
S"'auth'"
p186
sS'user_id'
p187
S'2L'
p188
ssg74
I2215
sg75
(dp189
I2210
S'        # log messages should not be translated'
p190
sI2211
S"        if type(description).__name__ == 'lazyT':"
p191
sI2212
S'            description = description.m'
p192
sI2213
S'        self.table_event().insert('
p193
sI2214
S'            description=str(description % vars),'
p194
sI2215
S'            origin=origin, user_id=user_id)'
p195
sI2216
S''
sI2217
S"    def get_or_create_user(self, keys, update_fields=['email'],"
p196
sI2218
S'                           login=True, get=True):'
p197
sI2219
S'        """'
p198
ssg87
S"(self=<gluon.tools.Auth object>, description='User %(id)s Logged-out', vars=<Row {'username': 'ersel', 'first_name': 'Ersel'...word_key': '', 'registration_key': '', 'id': 2L}>, origin='auth')"
p199
sg89
S'log_event'
p200
sa(dp201
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\objects.py'
p202
sg68
(dp203
S'self._listify'
p204
S'<bound method Table._listify of <Table auth_even...ime_stamp,client_ip,user_id,origin,description)>>'
p205
sS'fields'
p206
S"{'client_ip': '127.0.0.1', 'description': 'User 2 Logged-out', 'origin': 'auth', 'time_stamp': datetime.datetime(2015, 12, 30, 2, 28, 17, 845000), 'user_id': 2L}"
p207
sS'self'
p208
S'<Table auth_event (id,time_stamp,client_ip,user_id,origin,description)>'
p209
sS'ret'
p210
g109
sS'self._db._adapter'
p211
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p212
sS'self._db._adapter.insert'
p213
S'<bound method SQLiteAdapter.insert of <pydal.adapters.sqlite.SQLiteAdapter object>>'
p214
sS'self._db'
p215
S'<DAL uri="sqlite://storage.sqlite">'
p216
ssg74
I712
sg75
(dp217
I707
S'    def insert(self, **fields):'
p218
sI708
S'        fields = self._defaults(fields)'
p219
sI709
S'        self._attempt_upload(fields)'
p220
sI710
S'        if any(f(fields) for f in self._before_insert):'
p221
sI711
S'            return 0'
p222
sI712
S'        ret = self._db._adapter.insert(self, self._listify(fields))'
p223
sI713
S'        if ret and self._after_insert:'
p224
sI714
S'            fields = Row(fields)'
p225
sI715
S'            [f(fields, ret) for f in self._after_insert]'
p226
sI716
S'        return ret'
p227
ssg87
S"(self=<Table auth_event (id,time_stamp,client_ip,user_id,origin,description)>, **fields={'client_ip': '127.0.0.1', 'description': 'User 2 Logged-out', 'origin': 'auth', 'time_stamp': datetime.datetime(2015, 12, 30, 2, 28, 17, 845000), 'user_id': 2L})"
p228
sg89
S'insert'
p229
sa(dp230
g66
S'C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py'
p231
sg68
(dp232
S'e'
S"IntegrityError('foreign key constraint failed',)"
p233
ssg74
I739
sg75
(dp234
I736
S'            e = sys.exc_info()[1]'
p235
sI737
S"            if hasattr(table,'_on_insert_error'):"
p236
sI738
S'                return table._on_insert_error(table,fields,e)'
p237
sI739
S'            raise e'
p238
sI740
S"        if hasattr(table, '_primarykey'):"
p239
sI741
S'            mydict = dict([(k[0].name, k[1]) for k in fields if k[0].name in table._primarykey])'
p240
sI742
S'            if mydict != {}:'
p241
sI743
S'                return mydict'
p242
sI734
S'            self.execute(query)'
p243
sI735
S'        except Exception:'
p244
ssg87
S"(self=<pydal.adapters.sqlite.SQLiteAdapter object>, table=<Table auth_event (id,time_stamp,client_ip,user_id,origin,description)>, fields=[(<pydal.objects.Field object>, 'auth'), (<pydal.objects.Field object>, datetime.datetime(2015, 12, 30, 2, 28, 17, 845000)), (<pydal.objects.Field object>, '127.0.0.1'), (<pydal.objects.Field object>, 2L), (<pydal.objects.Field object>, 'User 2 Logged-out')])"
p245
sg89
g229
sasS'pyver'
p246
S'Python 2.7.9: C:\\Users\\Ersel\\Desktop\\web2py\\web2py.exe (prefix: C:\\Python27)'
p247
sS'session'
p248
g61
(S's\xa6\n\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>c39675c8-ab90-4dc2-8e9f-7459055dd83b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 12, 30, 2, 28, 15, 483000)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>ersel@gmail.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>Ersel</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>2L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>Er</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">username</td><td style="vertical-align:top;">:</td><td><div>ersel</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">auth_two_factor</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">auth_two_factor_enabled</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">auth_two_factor_tries_left</td><td style="vertical-align:top;">:</td><td><div>3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">auth_two_factor_user</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr></table></div>'
tRp249
sS'etype'
p250
S"<class 'sqlite3.IntegrityError'>"
p251
sS'date'
p252
S'Wed Dec 30 02:28:17 2015'
p253
sS'response'
p254
g61
(S's\x82?\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x087E46C0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_movies</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div>: </div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>table3cols</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="navbar-brand" href="http://www.web2py.com/" id="web2py-logo"><b>web<span>2</span>py</b>&trade;&nbsp;</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/movies/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>My Sites</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/site</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>This App</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>#</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Design</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/design/movies</div></td></tr></table></div></td></tr><tr><td><div><li class="divider"></li></div></td></tr><tr><td><div><table><tr><td><div>Controller</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/controllers/default.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>View</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/views/default/logout.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>DB Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/models/db.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Menu Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/models/menu.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Config.ini</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/private/appconfig.ini</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Layout</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/views/layout.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Stylesheet</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/movies/static/css/web2py-bootstrap3.css</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Database</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/movies/appadmin/index</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Errors</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/errors/movies</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>About</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/about/movies</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>web2py.com</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>#</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Download</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/examples/default/download</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Support</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/examples/default/support</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Demo</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com/demo_admin</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Quick Examples</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com/examples/default/examples</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>FAQ</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com/AlterEgo</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Videos</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/examples/default/videos/</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Free Applications</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com/appliances</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Plugins</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com/plugins</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Recipes</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2pyslices.com/</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Documentation</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>#</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Online book</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book</div></td></tr></table></div></td></tr><tr><td><div><li class="divider"></li></div></td></tr><tr><td><div><table><tr><td><div>Preface</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/00</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Introduction</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/01</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Python</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/02</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Overview</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/03</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>The Core</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/04</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>The Views</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/05</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Database</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/06</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Forms and Validators</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/07</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Email and SMS</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/08</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Access Control</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/09</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Services</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/10</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Ajax Recipes</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/11</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Components and Plugins</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/12</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Deployment Recipes</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/13</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Other Recipes</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/14</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Helping web2py</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book/default/chapter/15</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Buy web2py\'s book</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://stores.lulu.com/web2py</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Community</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>None</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Groups</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/examples/default/usergroups</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Twitter</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://twitter.com/web2py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Live Chat</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://webchat.freenode.net/?channels=web2py</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">description</td><td style="vertical-align:top;">:</td><td><div>a cool new app</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div>web2py, python, framework</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/logout/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_movies</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;C:\\\\Users\\\\Ersel\\\\Desktop\\\\web2py\\\\applications\\\\movies\\\\sessions\\\\15e\\\\020\\\\127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b&#x27;, mode &#x27;rb+&#x27; at 0x044CE9C0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\sessions\\127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>c86e7046db400735898faafe092f5836</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-0bc3f9d5-d554-44bf-846f-325addf3900b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_movies</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>movies</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Movies</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>default/logout.html</div></td></tr></table></div>'
tRp255
sS'locals'
p256
(dp257
S'query'
p258
S'"INSERT INTO auth_event(origin,time_stamp,client_...-30 02:28:17\',\'127.0.0.1\',2,\'User 2 Logged-out\');"'
p259
sS'self'
p260
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p261
sS'e'
S"IntegrityError('foreign key constraint failed',)"
p262
sS'fields'
p263
S"[(<pydal.objects.Field object>, 'auth'), (<pydal.objects.Field object>, datetime.datetime(2015, 12, 30, 2, 28, 17, 845000)), (<pydal.objects.Field object>, '127.0.0.1'), (<pydal.objects.Field object>, 2L), (<pydal.objects.Field object>, 'User 2 Logged-out')]"
p264
sS'table'
p265
S'<Table auth_event (id,time_stamp,client_ip,user_id,origin,description)>'
p266
sssS'traceback'
p267
S'Traceback (most recent call last):\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers/default.py", line 438, in <module>\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\globals.py", line 412, in <lambda>\n    self._caller = lambda f: f()\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py", line 3774, in f\n    return action(*a, **b)\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\applications\\movies\\controllers/default.py", line 307, in logout\n    return auth.logout()\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py", line 2832, in logout\n    self.log_event(log, self.user)\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\tools.py", line 2215, in log_event\n    origin=origin, user_id=user_id)\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\objects.py", line 712, in insert\n    ret = self._db._adapter.insert(self, self._listify(fields))\n  File "C:\\Users\\Ersel\\Desktop\\web2py\\gluon\\packages\\dal\\pydal\\adapters\\base.py", line 739, in insert\n    raise e\nIntegrityError: foreign key constraint failed\n'
p268
s.